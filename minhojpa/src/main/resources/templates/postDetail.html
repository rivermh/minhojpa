<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>게시글 상세</title>
</head>
<body>
    <h1 th:text="${post.title}">제목</h1>
    <p>작성일: <span th:text="${#temporals.format(post.createdAt, 'yyyy-MM-dd HH:mm')}"></span></p>
    <p>작성자: <span th:text="${post.writer.name}">작성자</span></p>

    <div>
        <pre th:text="${post.content}">본문</pre>
    </div>

    <!-- 수정/삭제 버튼 (작성자 본인에게만 보이게) -->
    <div th:if="${session.loginMember != null and session.loginMember.id == post.writer.id}">
        <a th:href="@{/posts/{id}/edit(id=${post.id})}">수정</a>

        <form th:action="@{/posts/{id}/delete(id=${post.id})}" method="post" style="display:inline;">
            <button type="submit" onclick="return confirm('정말 삭제하시겠습니까?')">삭제</button>
        </form>
    </div>

    <a th:href="@{/posts}">목록으로</a>
</body>
</html>
